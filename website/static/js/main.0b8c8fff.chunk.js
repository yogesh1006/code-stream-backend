(this["webpackJsonpvideo-library-client"]=this["webpackJsonpvideo-library-client"]||[]).push([[0],{115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},119:function(e,t,a){},143:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){},265:function(e,t,a){},266:function(e,t,a){},267:function(e,t,a){"use strict";a.r(t);var s=a(2),c=a.n(s),n=a(100),i=a.n(n),r=(a(115),a(116),a(9)),l=(a(117),a(5)),o=a.n(l),d=a(10),j=a(8),u=(a(119),a(6)),b=a(48),p=a(47),O=a(21),h=a(102),m=a(101),v=a(46),x=a(7),f=a.n(x),y=a(3),g=a(1),N=Object(s.createContext)();function k(e){var t=e.children,a=Object(r.g)(),c=JSON.parse(localStorage.getItem("jwt"))||{isUserLoggedIn:!1,token:null},n=c.isUserLoggedIn,i=c.token,l=Object(s.useReducer)(S,{isUserLoggedIn:n,token:i}),u=Object(j.a)(l,2),b=u[0],p=u[1],O=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{null===(t=localStorage)||void 0===t||t.removeItem("jwt"),p({type:"LOGOUT"}),a.push("/")}catch(s){console.log(s)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e,t=JSON.parse(null===(e=localStorage)||void 0===e?void 0:e.getItem("jwt"))||{},a=t.isUserLoggedIn,s=t.token;a&&p({type:"LOGIN",payload:s})}),[]),Object(g.jsx)(N.Provider,{value:{authState:b,authDispatch:p,logout:O},children:t})}function L(){return Object(s.useContext)(N)}function S(e,t){switch(t.type){case"LOGIN":return Object(y.a)(Object(y.a)({},e),{},{isUserLoggedIn:!0,token:t.payload});case"LOGOUT":return Object(y.a)(Object(y.a)({},e),{},{isUserLoggedIn:!1,token:null});default:return e}}var E=a(13);function w(e,t){switch(t.type){case"ADD-TO-LIKEVIDEOS":return Object(y.a)(Object(y.a)({},e),{},{likedVideos:[].concat(Object(E.a)(e.likedVideos),[Object(y.a)({},t.payload)])});case"REMOVE-FROM-LIKEVIDEOS":return Object(y.a)(Object(y.a)({},e),{},{likedVideos:e.likedVideos.filter((function(e){return e._id!==t.payload._id}))});case"LOAD":return Object(y.a)(Object(y.a)({},e),{},{likedVideos:t.payload});default:return e}}function I(e,t){switch(t.type){case"ADD-TO-SAVEDVIDEOS":return Object(y.a)(Object(y.a)({},e),{},{savedVideos:[].concat(Object(E.a)(e.savedVideos),[Object(y.a)({},t.payload)])});case"REMOVE-FROM-SAVEDVIDEOS":return Object(y.a)(Object(y.a)({},e),{},{savedVideos:e.savedVideos.filter((function(e){return e._id!==t.payload._id}))});case"LOAD":return Object(y.a)(Object(y.a)({},e),{},{savedVideos:t.payload});default:return e}}function C(e,t){switch(t.type){case"CREATE-PLAYLIST":return Object(y.a)(Object(y.a)({},e),{},{playlist:t.payload});case"DELETE-PLAYLIST":return Object(y.a)(Object(y.a)({},e),{},{playlist:e.playlist.filter((function(e){return e._id!==t.payload}))});case"CHANGE-PLAYLIST-NAME":return Object(y.a)(Object(y.a)({},e),{},{playlist:e.playlist.map((function(e){return e._id===t.payload.playlistId?Object(y.a)(Object(y.a)({},e),{},{playlistName:t.payload.playlistName}):e}))});case"ADD-TO-PLAYLIST":return Object(y.a)(Object(y.a)({},e),{},{playlist:e.playlist.map((function(e){return e._id===t.payload.playlist?Object(y.a)(Object(y.a)({},e),{},{videos:[].concat(Object(E.a)(e.videos),[t.payload.video])}):e}))});case"REMOVE-FROM-PLAYLIST":return Object(y.a)(Object(y.a)({},e),{},{playlist:e.playlist.map((function(e){return e._id===t.payload.playlist?Object(y.a)(Object(y.a)({},e),{},{videos:e.videos.filter((function(e){return e._id!==t.payload.video._id}))}):e}))});case"LOAD":return Object(y.a)(Object(y.a)({},e),{},{playlist:t.payload});default:return e}}function A(e,t){switch(t.type){case"DESC":return Object(y.a)(Object(y.a)({},e),{},{desc:t.payload});case"LIKE":return Object(y.a)(Object(y.a)({},e),{},{like:t.payload});case"SAVED":return Object(y.a)(Object(y.a)({},e),{},{saved:t.payload});case"NEW-PLAYLIST":return Object(y.a)(Object(y.a)({},e),{},{newPlaylist:t.payload});case"OPEN-MODAL":return Object(y.a)(Object(y.a)({},e),{},{openModal:t.payload});case"PLAYLIST-NAME":return Object(y.a)(Object(y.a)({},e),{},{playlistName:t.payload});default:return e}}var _="https://code-stream-client.herokuapp.com",D=Object(s.createContext)();function V(e){var t=e.children,a=Object(s.useReducer)(w,{likedVideos:[]}),c=Object(j.a)(a,2),n=c[0],i=c[1],r=L().authState;return Object(s.useEffect)((function(){Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(_,"/api/get_all_liked_videos"),{headers:{authorization:r.token}});case 2:t=e.sent,console.log("likedVideo",t),i({type:"LOAD",payload:t.data.data.likedVideos});case 5:case"end":return e.stop()}}),e)})))()}),[r]),Object(g.jsx)(D.Provider,{value:{likeState:n,likeDispatch:i},children:t})}function P(){return Object(s.useContext)(D)}var M=Object(s.createContext)();function R(e){var t=e.children,a=Object(s.useReducer)(C,{playlist:[]}),c=Object(j.a)(a,2),n=c[0],i=c[1],r=L().authState;return Object(s.useEffect)((function(){Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(_,"/api/get_user_playlist"),{headers:{authorization:r.token}});case 2:t=e.sent,console.log("response",t),i({type:"LOAD",payload:t.data.data});case 5:case"end":return e.stop()}}),e)})))()}),[r]),Object(g.jsx)(M.Provider,{value:{playlistState:n,playlistDispatch:i},children:t})}function T(){return Object(s.useContext)(M)}var F=Object(s.createContext)();function U(e){var t=e.children,a=Object(s.useReducer)(I,{savedVideos:[]}),c=Object(j.a)(a,2),n=c[0],i=c[1],r=L().authState;return Object(s.useEffect)((function(){Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(_,"/api/get_all_saved_videos"),{headers:{authorization:r.token}});case 2:t=e.sent,console.log("res",t),i({type:"LOAD",payload:t.data.data.savedVideos});case 5:case"end":return e.stop()}}),e)})))()}),[r]),Object(g.jsx)(F.Provider,{value:{savedState:n,savedDispatch:i},children:t})}function Y(){return Object(s.useContext)(F)}var B=Object(s.createContext)();function q(e){var t=e.children,a=Object(s.useState)([]),c=Object(j.a)(a,2),n=c[0],i=c[1];return Object(s.useEffect)((function(){Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(_,"/auth/get_all_videos"));case 2:t=e.sent,i(t.data.data);case 4:case"end":return e.stop()}}),e)})))()}),[]),Object(g.jsx)(B.Provider,{value:{videos:n,setVideos:i},children:t})}function z(){return Object(s.useContext)(B)}function K(){var e=Object(s.useState)("open-modal"),t=Object(j.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)({}),i=Object(j.a)(n,2),l=i[0],x=i[1],y=L(),N=y.authState,k=y.logout,S=Object(r.g)();return Object(s.useEffect)((function(){Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(_,"/api/get_user_data"),{headers:{authorization:N.token}});case 2:t=e.sent,a=t.data.result,x(a);case 5:case"end":return e.stop()}}),e)})))()}),[N]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("nav",{children:[Object(g.jsx)("div",{className:"header",children:Object(g.jsxs)("h1",{children:["Code",Object(g.jsx)("span",{className:"it",children:"Stream"})]})}),Object(g.jsxs)("div",{className:"nav-bar",children:[Object(g.jsx)("div",{className:"nav-links",children:Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{children:Object(g.jsx)(u.c,{to:"/",className:"link",activeClassName:"active-nav",children:"Home"})}),Object(g.jsx)("li",{children:Object(g.jsx)(u.c,{to:"/savedvideos",className:"link",activeClassName:"active-nav",children:"Saved Videos"})}),Object(g.jsx)("li",{children:Object(g.jsx)(u.c,{to:"/playlists",className:"link",activeClassName:"active-nav",children:"My Playlists"})}),Object(g.jsx)("li",{children:Object(g.jsx)(u.c,{to:"/likedvideos",className:"link",activeClassName:"active-nav",children:"Liked Videos"})})]})}),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"profile-img",children:Object(g.jsx)("img",{src:"https://i.ibb.co/Ttvc03w/AS-2.png",alt:"avtaar",className:"avtaar sm",onClick:function(){c("profile-modal")}})}),Object(g.jsx)("div",{className:a,children:Object(g.jsxs)("div",{className:"profile-content",children:[Object(g.jsx)(v.a,{style:{float:"right",margin:"0.25rem 0.5rem",cursor:"pointer"},onClick:function(){c("open-modal")}}),N.isUserLoggedIn?Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"profile-header",children:Object(g.jsx)("h2",{children:l.name})}),Object(g.jsxs)("div",{className:"profile-desc",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("p",{className:"profile-field",children:"Email"}),Object(g.jsx)("p",{className:"profile-data",children:l.email})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("p",{className:"profile-field",children:"Username"}),Object(g.jsx)("p",{className:"profile-data",children:l.username})]}),Object(g.jsx)("div",{children:Object(g.jsxs)("button",{className:"logout-btn",onClick:function(){k()},children:[Object(g.jsx)(m.a,{className:"logout-icon"}),"LogOut"]})})]})]}):Object(g.jsxs)("div",{className:"login-content",children:[Object(g.jsx)("div",{children:Object(g.jsx)("p",{children:"Login to continue."})}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{className:"logout-btn",onClick:function(){S.push("/login")},children:"Login"})})]})]})})]})]})]}),Object(g.jsx)("div",{className:"bottom-nav-links",children:Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{children:Object(g.jsx)(u.c,{to:"/",className:"link",activeClassName:"active",children:Object(g.jsx)(h.a,{className:"icon"})})}),Object(g.jsx)("li",{children:Object(g.jsx)(u.c,{to:"/savedvideos",className:"link",activeClassName:"active",children:Object(g.jsx)(O.b,{className:"icon"})})}),Object(g.jsx)("li",{children:Object(g.jsx)(u.c,{to:"/playlists",className:"link",activeClassName:"active",children:Object(g.jsx)(p.b,{className:"icon"})})}),Object(g.jsx)("li",{children:Object(g.jsx)(u.c,{to:"/likedvideos",className:"link",activeClassName:"active",children:Object(g.jsx)(b.a,{className:"icon"})})})]})})]})}a(143);function G(e){var t=e.data;return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"videolist",children:Object(g.jsxs)(u.b,{to:"/watch/"+t.id,className:"card",children:[Object(g.jsx)("img",{className:"card-video-thumbnail",alt:t.title,src:t.thumbnailImgUrl}),Object(g.jsxs)("div",{className:"card-details",children:[Object(g.jsx)("img",{className:"card-channel-logo",src:t.channelImageUrl,alt:t.title}),Object(g.jsxs)("div",{className:"card-channel-details",children:[Object(g.jsx)("p",{className:"card-title",children:t.title}),Object(g.jsx)("p",{className:"card-channel-name",children:t.channelName})]})]})]},"suggestion"+t.id)})})}function J(){var e=z().videos;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(K,{}),Object(g.jsx)("div",{className:"video-page",children:e.map((function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(G,{data:e},e._id)})}))})]})}var H=a(103),W=a.n(H),Q=a(104),X=a(64),Z=(a(162),a(4));function $(){var e=Object(s.useState)({}),t=Object(j.a)(e,2),a=t[0],c=t[1],n=P(),i=n.likeState,l=n.likeDispatch,u=Y(),p=u.savedState,h=u.savedDispatch,m=T(),x=m.playlistState,y=m.playlistDispatch,N=L().authState,k=z().videos,S=Object(r.g)(),E={headers:{authorization:N.token}},w=Object(r.h)().id,I=Object(s.useState)({}),C=Object(j.a)(I,2),D=C[0],V=C[1],M=Object(s.useReducer)(A,{desc:!0,like:!1,saved:!1,newPlaylist:!1,openModal:"modal",playlistName:""}),R=Object(j.a)(M,2),F=R[0],U=R[1];Object(s.useEffect)((function(){Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(_,"/api/get_user_data"),{headers:{authorization:N.token}});case 2:t=e.sent,a=t.data.result,console.log(a),c(a);case 6:case"end":return e.stop()}}),e)})))()}),[N]);var B=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!N.isUserLoggedIn){e.next=19;break}if(!F.like){e.next=10;break}return e.next=5,f.a.delete("".concat(_,"/api/remove_liked_videos"),{id:t._id},{headers:{authorization:N.token}});case 5:l({type:"REMOVE-FROM-LIKEVIDEOS",payload:t}),U({type:"LIKE",payload:!1}),Z.b.success("Removed from Liked Videos"),e.next=17;break;case 10:return a={id:t._id},s={headers:{Authorization:N.token}},e.next=14,f.a.post("".concat(_,"/api/add_to_liked_videos"),a,s);case 14:l({type:"ADD-TO-LIKEVIDEOS",payload:t}),U({type:"LIKE",payload:!0}),Z.b.success("Added to Liked Videos");case 17:e.next=21;break;case 19:Z.b.success("Login to proceed."),U({type:"OPEN-MODAL",payload:"modal open"});case 21:e.next=30;break;case 23:if(e.prev=23,e.t0=e.catch(0),401!==e.t0.response.status){e.next=29;break}return e.abrupt("return",Z.b.success("Login to proceed."));case 29:return e.abrupt("return",Z.b.error("Failed to update."));case 30:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!N.isUserLoggedIn){e.next=18;break}if(!F.saved){e.next=10;break}return e.next=5,f.a.delete("".concat(_,"/api/remove_saved_video"),{id:t._id},{headers:{authorization:N.token}});case 5:h({type:"REMOVE-FROM-SAVEDVIDEOS",payload:t}),U({type:"SAVED",payload:!1}),Z.b.success("Removed from Saved Videos"),e.next=16;break;case 10:return a={id:t._id},e.next=13,f.a.post("".concat(_,"/api/add_to_save_videos"),a,E);case 13:h({type:"ADD-TO-SAVEDVIDEOS",payload:t}),U({type:"SAVED",payload:!0}),Z.b.success("Added to Saved Videos");case 16:e.next=20;break;case 18:Z.b.success("Login to proceed."),U({type:"OPEN-MODAL",payload:"modal open"});case 20:e.next=29;break;case 22:if(e.prev=22,e.t0=e.catch(0),401!==e.t0.response.status){e.next=28;break}return e.abrupt("return",Z.b.success("Login to proceed."));case 28:return e.abrupt("return",Z.b.error("Failed to update."));case 29:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(d.a)(o.a.mark((function e(t,s,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!N.isUserLoggedIn){e.next=9;break}return e.next=4,f.a.post("".concat(_,"/api/add_to_playlist/").concat(s._id),{videoId:t._id,username:a.username},E);case 4:y({type:"ADD-TO-PLAYLIST",payload:{playlist:s._id,video:t}}),U({type:"OPEN-MODAL",payload:"modal"}),Z.b.success("Added to Playlist."),e.next=10;break;case 9:Z.b.success("Login to proceed.");case 10:e.next=19;break;case 12:if(e.prev=12,e.t0=e.catch(0),401!==e.t0.response.status){e.next=18;break}return e.abrupt("return",Z.b.success("Login to proceed."));case 18:return e.abrupt("return",Z.b.error("Failed to update."));case 19:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a,s){return e.apply(this,arguments)}}(),J=function(){var e=Object(d.a)(o.a.mark((function e(t,s){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!N.isUserLoggedIn){e.next=9;break}return e.next=4,f.a.delete("".concat(_,"/api/remove_from_playlist/").concat(s._id),{videoId:t._id,username:a.username},E);case 4:y({type:"REMOVE-FROM-PLAYLIST",payload:{playlist:s._id,video:t}}),U({type:"OPEN-MODAL",payload:"modal"}),Z.b.success("Removed from Playlist."),e.next=10;break;case 9:Z.b.success("Login to proceed.");case 10:e.next=19;break;case 12:if(e.prev=12,e.t0=e.catch(0),401!==e.t0.response.status){e.next=18;break}return e.abrupt("return",Z.b.success("Login to proceed."));case 18:return e.abrupt("return",Z.b.error("Failed to update."));case 19:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}(),H=function(){var e=Object(d.a)(o.a.mark((function e(t){var s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!N.isUserLoggedIn){e.next=12;break}return e.next=4,f.a.post("".concat(_,"/api/create_playlist"),{playlistName:F.playlistName,videoId:t._id,username:a.username},E);case 4:s=e.sent,c=s.data.result,y({type:"CREATE-PLAYLIST",payload:c}),U({type:"NEW-PLAYLIST",payload:!1}),U({type:"OPEN-MODAL",payload:"modal"}),Z.b.success("Playlist created."),e.next=13;break;case 12:Z.b.success("Login to proceed.");case 13:e.next=22;break;case 15:if(e.prev=15,e.t0=e.catch(0),401!==e.t0.response.status){e.next=21;break}return e.abrupt("return",Z.b.success("Login to proceed."));case 21:return e.abrupt("return",Z.b.error("Failed to update."));case 22:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e=k.find((function(e){return e.id===w}));V(e);var t=i.likedVideos.some((function(t){return t.videoId===e.videoId})),a=p.savedVideos.some((function(t){return t.videoId===e.videoId}));t&&U({type:"LIKE",payload:!0}),a&&U({type:"SAVED",payload:!0})}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(K,{}),Object(g.jsx)("div",{className:"player-page",children:Object(g.jsxs)("div",{className:"player-card",children:[Object(g.jsx)(W.a,{url:"https://www.youtube.com/watch?v=".concat(D.id),controls:!0,playing:!0,className:"media-player"}),Object(g.jsxs)("div",{className:"card-text",children:[Object(g.jsx)("p",{className:"card-primary-text",children:D.title}),Object(g.jsx)("p",{className:"card-secondary-text",children:D.published_date}),Object(g.jsxs)("div",{className:"actions",children:[F.like&&Object(g.jsx)(b.a,{className:"action-icon liked",onClick:function(){B(D)}}),!F.like&&Object(g.jsx)(Q.a,{className:"action-icon not-liked",onClick:function(){B(D)}}),Object(g.jsx)(v.b,{className:"action-icon",onClick:function(){U({type:"OPEN-MODAL",payload:"modal open"})}}),F.saved&&Object(g.jsx)(O.b,{className:"action-icon liked",onClick:function(){q(D)}}),!F.saved&&Object(g.jsx)(O.a,{className:"action-icon not-liked",onClick:function(){q(D)}})]}),Object(g.jsxs)("div",{className:"desc",children:[Object(g.jsx)("p",{children:"Description"}),!F.desc&&Object(g.jsx)(X.a,{className:"action-icon",onClick:function(){return U({type:"DESC",payload:!0})}}),F.desc&&Object(g.jsx)(X.b,{className:"action-icon",onClick:function(){return U({type:"DESC",payload:!1})}})]}),F.desc&&Object(g.jsx)("div",{className:"desc-content",children:Object(g.jsx)("p",{children:D.description})})]})]})}),Object(g.jsx)("div",{className:F.openModal,children:N.isUserLoggedIn?Object(g.jsxs)("div",{className:"modal-content",children:[Object(g.jsx)("div",{className:"modal-header",children:Object(g.jsx)("h2",{children:"Playlist"})}),Object(g.jsxs)("div",{className:"modal-body",children:[x.playlist.map((function(e){return e.videos.some((function(e){return e._id===D._id}))?Object(g.jsxs)("div",{className:"playlist-name",children:[Object(g.jsx)("label",{for:e._id,className:"label",children:e.playlistName}),Object(g.jsx)("button",{className:"action-btn",onClick:function(){J(D,e)},children:"Remove"})]},e._id):Object(g.jsxs)("div",{className:"playlist-name",children:[Object(g.jsx)("label",{for:e._id,className:"label",children:e.playlistName}),Object(g.jsx)("button",{className:"action-btn",onClick:function(){G(D,e)},children:"Add"})]},e._id)})),F.newPlaylist&&Object(g.jsxs)("div",{className:"input-div",children:[Object(g.jsx)("input",{type:"text",placeholder:"New Playlist Name",className:"playlist-name-input",onChange:function(e){U({type:"PLAYLIST-NAME",payload:e.target.value})}}),Object(g.jsx)("button",{className:"logout-btn",onClick:function(){H(D)},children:"Create"})]})]}),Object(g.jsxs)("div",{className:"modal-buttons",children:[Object(g.jsx)("button",{onClick:function(){U({type:"OPEN-MODAL",payload:"modal"}),U({type:"NEW-PLAYLIST",payload:!1})},className:"close-btn",children:"Close"}),Object(g.jsx)("button",{className:"logout-btn",onClick:function(){U({type:"NEW-PLAYLIST",payload:!0})},children:"Create new playlist"})]})]}):Object(g.jsxs)("div",{className:"modal-content",children:[Object(g.jsx)("div",{className:"modal-header",children:Object(g.jsx)("p",{children:"Login to continue."})}),Object(g.jsx)("div",{className:"modal-body",children:Object(g.jsxs)("div",{className:"modal-buttons",children:[Object(g.jsx)("button",{onClick:function(){U({type:"OPEN-MODAL",payload:"modal"})},className:"close-btn",children:"Close"}),Object(g.jsx)("button",{className:"logout-btn",onClick:function(){S.push("/login")},children:"Login"})]})})]})})]})}a(163);function ee(){var e=P().likeState;return console.log("likestate",e),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(K,{}),Object(g.jsxs)("div",{className:"like-page",children:[Object(g.jsx)("div",{className:"like-card",children:e.likedVideos.map((function(e){return Object(g.jsx)(G,{data:e},e.videoId)}))}),0===e.likedVideos.length&&Object(g.jsxs)("div",{className:"add-video",children:[Object(g.jsx)("h2",{children:"You didn't like any video yet."}),Object(g.jsxs)("h3",{children:[Object(g.jsx)(u.c,{to:"/",className:"sign-up",children:"Explore"})," and like some videos to add them."]})]})]})]})}a(164);function te(){var e=T(),t=e.playlistState,a=e.playlistDispatch,s=L().authState,c=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!s.isUserLoggedIn){e.next=8;break}return e.next=4,f.a.post("".concat(_,"/api/delete_playlist"),{playlistName:t},{headers:{authorization:s.token}});case 4:a({type:"DELETE-PLAYLIST",payload:t}),Z.b.success("Playlist deleted successfully."),e.next=9;break;case 8:Z.b.success("Login to proceed.");case 9:e.next=18;break;case 11:if(e.prev=11,e.t0=e.catch(0),401!==e.t0.response.status){e.next=17;break}return e.abrupt("return",Z.b.success("Login to proceed."));case 17:return e.abrupt("return",Z.b.error("Failed to delete playlist."));case 18:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return console.log("playlist",t),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(K,{}),Object(g.jsxs)("div",{className:"playlist-page",children:[t.playlist.map((function(e){return Object(g.jsxs)("div",{className:"playlist",children:[Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)("h1",{className:"playlist-name",children:e.playlistName}),Object(g.jsx)(O.c,{className:"trash-icon",onClick:function(){c(e.playlistName)}})]}),Object(g.jsxs)("div",{className:"playlist-videos",children:[e.videos.map((function(e){return Object(g.jsx)(G,{data:e},e.videoId)})),0===e.videos.length&&Object(g.jsxs)("div",{className:"add-video",style:{margin:"0 2rem"},children:[Object(g.jsx)("p",{children:"You don't have any video in this playlist."}),Object(g.jsxs)("p",{children:[Object(g.jsx)(u.c,{to:"/",className:"sign-up",children:"Explore"})," and add some videos."]})]})]})]},e._id)})),0===t.playlist.length&&Object(g.jsxs)("div",{className:"add-video",style:{paddingTop:"2.5rem"},children:[Object(g.jsx)("h2",{children:"You don't have any playlist."}),Object(g.jsxs)("h3",{children:[Object(g.jsx)(u.c,{to:"/",className:"sign-up",children:"Explore"})," and create some."]})]})]})]})}a(165);function ae(){var e=Y().savedState;return console.log("savedState",e),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(K,{}),Object(g.jsxs)("div",{className:"watch-page",children:[Object(g.jsx)("div",{className:"watch-card",children:e.savedVideos.map((function(e){return Object(g.jsx)(G,{data:e},e.videoId)}))}),0===e.savedVideos.length&&Object(g.jsxs)("div",{className:"add-video",children:[Object(g.jsx)("h2",{children:"You didn't save any video yet."}),Object(g.jsxs)("h3",{children:[Object(g.jsx)(u.c,{to:"/",className:"sign-up",children:"Explore"})," and save some videos."]})]})]})]})}a(166);var se=a(52),ce=a(22);function ne(){var e=L(),t=e.authState,a=e.authDispatch,s=Object(r.g)();console.log(t);var c=Object(se.a)({initialValues:{email:"",password:""},validationSchema:ce.a({email:ce.b().email("Invalid email address").required("Required"),password:ce.b().max(20,"Must be 20 characters or less").required("Required")}),onSubmit:function(e){f.a.post("".concat(_,"/auth/login"),e).then((function(e){var t,c;console.log(e);var n=e.data.data;null===(t=localStorage)||void 0===t||t.setItem("jwt",JSON.stringify({isUserLoggedIn:!0,token:n.token})),null===(c=localStorage)||void 0===c||c.setItem("user",JSON.stringify({username:n.username})),Z.b.success(e.data.message),a({type:"LOGIN",payload:n.token}),s.push("/")})).catch((function(e){Z.b.error(e.response.data.message)}))}});return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("form",{onSubmit:c.handleSubmit,className:"login-page",children:[Object(g.jsx)("div",{children:Object(g.jsx)("h1",{children:"Signin"})}),Object(g.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(g.jsx)("input",{id:"email",name:"email",type:"email",onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.email}),c.touched.email&&c.errors.email?Object(g.jsx)("div",{children:c.errors.email}):null,Object(g.jsx)("label",{htmlFor:"password",children:"Password"}),Object(g.jsx)("input",{id:"password",name:"password",type:"password",onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.password}),c.touched.password&&c.errors.password?Object(g.jsx)("div",{children:c.errors.password}):null,Object(g.jsx)("button",{type:"submit",children:"Submit"}),Object(g.jsx)("div",{className:"mt-4 tracking-wide",children:Object(g.jsxs)("p",{children:["Don't have an Account?",Object(g.jsx)(u.c,{to:"/register",children:" Signup"})]})})]})})}a(265);function ie(){var e=Object(r.g)(),t=Object(se.a)({initialValues:{username:"",name:"",email:"",password:""},validationSchema:ce.a({username:ce.b().min(6,"Must be 6 characters or more").required("Required"),name:ce.b().max(15,"Must be 15 characters or less").required("Required"),email:ce.b().email("Invalid email address").required("Required"),password:ce.b().max(20,"Must be 20 characters or less").required("Required")}),onSubmit:function(t){f.a.post("".concat(_,"/auth/register"),t).then((function(e){Z.b.success(e.data.message)})).catch((function(e){Z.b.error(e.response.data.message)})),e.push("/login")}});return Object(g.jsxs)("form",{onSubmit:t.handleSubmit,className:"loginform",children:[Object(g.jsx)("div",{children:Object(g.jsx)("h1",{children:"SignUp"})}),Object(g.jsx)("label",{htmlFor:"username",children:"Username "}),Object(g.jsx)("input",{id:"username",name:"username",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.username}),t.touched.username&&t.errors.username?Object(g.jsx)("div",{children:t.errors.username}):null,Object(g.jsx)("label",{htmlFor:"name",children:"Name "}),Object(g.jsx)("input",{id:"name",name:"name",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.name}),t.touched.name&&t.errors.name?Object(g.jsx)("div",{children:t.errors.name}):null,Object(g.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(g.jsx)("input",{id:"email",name:"email",type:"email",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.email}),t.touched.email&&t.errors.email?Object(g.jsx)("div",{children:t.errors.email}):null,Object(g.jsx)("label",{htmlFor:"password",children:"Password"}),Object(g.jsx)("input",{id:"password",name:"password",type:"password",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.password}),t.touched.password&&t.errors.password?Object(g.jsx)("div",{children:t.errors.password}):null,Object(g.jsx)("button",{type:"submit",children:"Submit"}),Object(g.jsx)("div",{children:Object(g.jsxs)("p",{children:["Already Registered?",Object(g.jsx)(u.c,{to:"/login",children:" Signin"})]})})]})}function re(e){var t=e.path,a=e.component,s=L().authState;return console.log("auth",s),s.isUserLoggedIn?Object(g.jsx)(r.b,{path:t,component:a}):Object(g.jsx)(r.a,{state:{from:t},to:"/login"})}a(266);var le=a(110);function oe(){return Object(g.jsxs)("aside",{className:"sidebar",children:[Object(g.jsxs)(u.c,{to:"/",activeClassName:"active-link",className:"sidebar-item",exact:!0,children:[Object(g.jsx)(le.a,{}),Object(g.jsx)("p",{className:"nav-item-name",children:"Home"})]}),Object(g.jsxs)(u.c,{to:"/playlists",activeClassName:"active-link",className:"sidebar-item",children:[Object(g.jsx)(p.a,{}),Object(g.jsx)("p",{className:"nav-item-name",children:"Playlist"})]}),Object(g.jsxs)(u.c,{to:"/likedvideos",activeClassName:"active-link",className:"sidebar-item",children:[Object(g.jsx)(O.b,{}),Object(g.jsx)("p",{className:"nav-item-name",children:"likes"})]}),Object(g.jsxs)(u.c,{to:"/savedvideos",activeClassName:"active-link",className:"sidebar-item",children:[Object(g.jsx)(O.a,{}),Object(g.jsx)("p",{className:"nav-item-name",children:"History"})]})]})}var de=function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(Z.a,{}),Object(g.jsx)(oe,{}),Object(g.jsxs)(r.d,{children:[Object(g.jsx)(r.b,{exact:!0,path:"/",component:J}),Object(g.jsx)(r.b,{path:"/login",component:ne}),Object(g.jsx)(r.b,{path:"/register",component:ie}),Object(g.jsx)(r.b,{path:"/watch/:id",component:$}),Object(g.jsx)(re,{path:"/likedvideos",component:ee}),Object(g.jsx)(re,{path:"/playlists",component:te}),Object(g.jsx)(re,{path:"/savedvideos",component:ae})]})]})};i.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(u.a,{children:Object(g.jsx)(q,{children:Object(g.jsx)(k,{children:Object(g.jsx)(V,{children:Object(g.jsx)(U,{children:Object(g.jsx)(R,{children:Object(g.jsx)(de,{})})})})})})})}),document.getElementById("root"))}},[[267,1,2]]]);
//# sourceMappingURL=main.0b8c8fff.chunk.js.map